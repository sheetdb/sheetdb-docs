export const description =
  'This section describes how to create new APIs using global endpoints'

# Create a new API {{ tag: 'POST', label: '/api/v1/{APP_ID}/{API_KEY}' }}

<br />

## Create API {{ tag: 'POST', label: '/api/v1/{APP_ID}/{API_KEY}/create' }}

<Row>
  <Col>
    This endpoint creates a new API in SheetDB for an existing Google Spreadsheet. Before using this endpoint, make sure that the Google Spreadsheet already exists in your account and you have permissions to it.

    ### Required attributes

    <Properties>
        <Property name="url" type="string">
            A string containing the URL of the Google Spreadsheet for which the new API will be created.
        </Property>
    </Properties>

    ### Optional attributes

    <Properties>
        <Property name="permissions" type="string">
            A comma-separated list of permissions to enable for the API. If not provided, the following permissions are enabled by default: create, read, update, delete, search. Available permissions:

            - create: allows creating new rows
            - read: allows reading existing rows
            - update: allows updating existing rows
            - delete: allows deleting existing rows
            - search: allows searching for rows
            - tabs_create: allows creating new tabs
            - tabs_delete: allows deleting existing tabs

            Example: "create,tabs_create" will only allow creating new rows and tabs.
        </Property>
    </Properties>
  </Col>
  <Col>

    ```json {{ title: 'JSON Response' }}
    {
        "success": true,
        "name": "Test name",
        "id": "xxxxxxxxxxxxx",
        "url": "https://sheetdb.io/api/v1/xxxxxxxxxxxxx"
    }
    ```

  </Col>
</Row>

<br /><br />

## Create API with JSON {{ tag: 'POST', label: '/api/v1/{APP_ID}/{API_KEY}/create/json' }}

This endpoint creates a new API in SheetDB based on provided JSON data. The API will create a new Google Spreadsheet with the JSON data, then generate the API for the newly created Spreadsheet. Before using this endpoint, ensure that the JSON data is properly formatted and available at url.

### Required attributes

<Properties>
    <Property name="url" type="string">
        A string containing the URL of the JSON data to be used for creating the Google Spreadsheet and the new API.
    </Property>
</Properties>

### Optional attributes

<Properties>
    <Property name="title" type="string">
        A string representing the desired name for both the API and the associated Google Spreadsheet.
    </Property>
    <Property name="permissions" type="string">
        A comma-separated list of permissions to enable for the API. If not provided, the following permissions are enabled by default: create, read, update, delete, search. Available permissions:
        
        - create: allows creating new rows
        - read: allows reading existing rows
        - update: allows updating existing rows
        - delete: allows deleting existing rows
        - search: allows searching for rows
        - tabs_create: allows creating new tabs
        - tabs_delete: allows deleting existing tabs
        
        Example: "create,tabs_create" will only allow creating new rows and tabs.
    </Property>
</Properties>
